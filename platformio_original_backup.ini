; PlatformIO Project Configuration File - Multi-ESP32 Subsystem Support; PlatformIO Project Configuration File - Multi-ESP32 Subsystem Support; PlatformIO Project Configuration File - Multi-ESP32 Subsystem Support

;

;   Build options: build flags, source filter;;

;   Upload options: custom upload port, speed and extra flags

;   Library options: dependencies, extra library storages;   Build options: build flags, source filter;   Build options: build flags, source filter

;   Advanced options: extra scripting

;;   Upload options: custom upload port, speed and extra flags;   Upload options: custom upload port, speed and extra flags

; Please visit documentation for the other options and examples

; https://docs.platformio.org/page/projectconf.html;   Library options: dependencies, extra library storages;   Library options: dependencies, extra library storages



; =============================================================================;   Advanced options: extra scripting;   Advanced options: extra scripting

; SHARED CONFIGURATION - Common settings for all ESP32 subsystems

; =============================================================================;;

[common]

platform = espressif32; Please visit documentation for the other options and examples; Please visit documentation for the other options and examples

framework = espidf

lib_deps = ; https://docs.platformio.org/page/projectconf.html; https://docs.platformio.org/page/projectconf.html

    bblanchon/ArduinoJson @ ^7.0.4

build_flags = 

    -DCONFIG_ESP32S3_SPIRAM_SUPPORT=1

    -DSIMPLE_TEST; =============================================================================; =============================================================================

monitor_speed = 115200

monitor_filters = esp32_exception_decoder; SHARED CONFIGURATION - Common settings for all ESP32 subsystems; SHARED CONFIGURATION - Common settings for all ESP32 subsystems

upload_speed = 921600

; =============================================================================; =============================================================================

; =============================================================================

; HEAD SUBSYSTEM - ESP32-S3 for displays, audio, sensors[common][common]

; =============================================================================

[env:goblin_head]platform = espressif32platform = espressif32

extends = common

board = esp32-s3-devkitc-1framework = espidfframework = espidf

build_flags = 

    ${common.build_flags}lib_deps = lib_deps = 

    -DSUBSYSTEM_GOBLIN_HEAD=1

    -DESP32_CHIP_TYPE_S3=1    bblanchon/ArduinoJson @ ^7.0.4    bblanchon/ArduinoJson @ ^7.0.4

upload_port = COM3  ; Change to your head ESP32 port

; Uses: src/subsystems/goblin_head/ dispatch tablesbuild_flags = build_flags = 



; =============================================================================    -DCONFIG_ESP32S3_SPIRAM_SUPPORT=1    -DCONFIG_ESP32S3_SPIRAM_SUPPORT=1

; TORSO SUBSYSTEM - ESP32-S3 for power management, spine control, coordination

; =============================================================================    -DSIMPLE_TEST    -DSIMPLE_TEST

[env:goblin_torso]

extends = common  monitor_speed = 115200

board = esp32-s3-devkitc-1

build_flags = monitor_filters = esp32_exception_decoder; =============================================================================

    ${common.build_flags}

    -DSUBSYSTEM_GOBLIN_TORSO=1upload_speed = 921600; HEAD SUBSYSTEM - ESP32-S3 for displays, audio, sensors

    -DESP32_CHIP_TYPE_S3=1

upload_port = COM4  ; Change to your torso ESP32 port; =============================================================================

; Uses: src/subsystems/goblin_torso/ dispatch tables

; =============================================================================[env:goblin_head]

; =============================================================================

; LEFT ARM SUBSYSTEM - ESP32-C3 for arm servo control; HEAD SUBSYSTEM - ESP32-S3 for displays, audio, sensorsextends = common

; =============================================================================

[env:left_arm]; =============================================================================board = esp32-s3-devkitc-1

extends = common

board = esp32-c3-devkitm-1[env:goblin_head]build_flags = 

build_flags = 

    ${common.build_flags}extends = common    ${common.build_flags}

    -DSUBSYSTEM_LEFT_ARM=1

    -DESP32_CHIP_TYPE_C3=1board = esp32-s3-devkitc-1    -DSUBSYSTEM_GOBLIN_HEAD=1

upload_port = COM5  ; Change to your left arm ESP32 port

; Uses: src/subsystems/left_arm/ dispatch tablesbuild_flags =     -DESP32_CHIP_TYPE_S3=1



; =============================================================================    ${common.build_flags}upload_port = COM3  ; Change to your head ESP32 port

; LEGACY SINGLE-CHIP ENVIRONMENT (for backward compatibility)

; =============================================================================    -DSUBSYSTEM_GOBLIN_HEAD=1; Uses: src/subsystems/goblin_head/ dispatch tables

[env:legacy_single_chip]

platform = espressif32    -DESP32_CHIP_TYPE_S3=1

board = esp32-s3-devkitc-1

framework = espidfupload_port = COM3  ; Change to your head ESP32 port; =============================================================================

lib_deps = 

    bblanchon/ArduinoJson @ ^7.0.4; Uses: src/subsystems/goblin_head/ dispatch tables; TORSO SUBSYSTEM - ESP32-S3 for power management, spine control, coordination

build_flags = 

    -DCONFIG_ESP32S3_SPIRAM_SUPPORT=1; =============================================================================

    -DSIMPLE_TEST

monitor_speed = 115200; =============================================================================[env:goblin_torso]

monitor_filters = esp32_exception_decoder

upload_speed = 921600; TORSO SUBSYSTEM - ESP32-S3 for power management, spine control, coordinationextends = common  

; =============================================================================board = esp32-s3-devkitc-1

[env:goblin_torso]build_flags = 

extends = common      ${common.build_flags}

board = esp32-s3-devkitc-1    -DSUBSYSTEM_GOBLIN_TORSO=1

build_flags =     -DESP32_CHIP_TYPE_S3=1

    ${common.build_flags}upload_port = COM4  ; Change to your torso ESP32 port

    -DSUBSYSTEM_GOBLIN_TORSO=1; Uses: src/subsystems/goblin_torso/ dispatch tables

    -DESP32_CHIP_TYPE_S3=1

upload_port = COM4  ; Change to your torso ESP32 port; =============================================================================

; Uses: src/subsystems/goblin_torso/ dispatch tables; LEFT ARM SUBSYSTEM - ESP32-C3 for arm servo control

; =============================================================================

; =============================================================================[env:left_arm]

; LEFT ARM SUBSYSTEM - ESP32-C3 for arm servo controlextends = common

; =============================================================================board = esp32-c3-devkitm-1

[env:left_arm]build_flags = 

extends = common    ${common.build_flags}

board = esp32-c3-devkitm-1    -DSUBSYSTEM_LEFT_ARM=1

build_flags =     -DESP32_CHIP_TYPE_C3=1

    ${common.build_flags}upload_port = COM5  ; Change to your left arm ESP32 port

    -DSUBSYSTEM_LEFT_ARM=1; Uses: src/subsystems/left_arm/ dispatch tables

    -DESP32_CHIP_TYPE_C3=1

upload_port = COM5  ; Change to your left arm ESP32 port; =============================================================================

; Uses: src/subsystems/left_arm/ dispatch tables; LEGACY SINGLE-CHIP ENVIRONMENT (for backward compatibility)

; =============================================================================

; =============================================================================[env:esp32-s3-devkitc-1]

; LEGACY SINGLE-CHIP ENVIRONMENT (for backward compatibility)platform = espressif32

; =============================================================================board = esp32-s3-devkitc-1

[env:legacy_single_chip]framework = espidf

platform = espressif32lib_deps = 

board = esp32-s3-devkitc-1    bblanchon/ArduinoJson @ ^7.0.4

framework = espidf

lib_deps = [env:esp32-s3-devkitc-1]

    bblanchon/ArduinoJson @ ^7.0.4platform = espressif32

build_flags = board = esp32-s3-devkitc-1

    -DCONFIG_ESP32S3_SPIRAM_SUPPORT=1framework = espidf

    -DSIMPLE_TEST

monitor_speed = 115200; ESP-IDF uses CMakeLists.txt to manage source files, not src_filter

monitor_filters = esp32_exception_decoder; All source file selection is handled in src/CMakeLists.txt

upload_speed = 921600
; Dependencies for JSON parsing and hardware drivers
lib_deps = 
    bblanchon/ArduinoJson @ ^7.0.4

; Build flags for ESP32-S3 features and compiler configuration  
build_flags = 
    ; Let ESP-IDF handle all timing configurations
    -DCONFIG_ESP32S3_SPIRAM_SUPPORT=1
    -DSIMPLE_TEST
    ; Remove warning suppression flags - let real errors show
    
; Don't suppress warnings - we want to see configuration issues
; build_unflags = 
;     -Werror

; Source filter removed - using only universal main.c
    
; Monitor settings for debugging
monitor_speed = 115200
monitor_filters = esp32_exception_decoder

; Upload settings
upload_speed = 921600
