<?xml version="1.0" encoding="UTF-8"?>
<svg width="900" height="700" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <style>
      .component { fill: #e6f3ff; stroke: #0066cc; stroke-width: 2; }
      .display { fill: #ffe6e6; stroke: #cc0000; stroke-width: 2; }
      .audio { fill: #e6ffe6; stroke: #00cc00; stroke-width: 2; }
      .sensor { fill: #fff2e6; stroke: #ff6600; stroke-width: 2; }
      .wire-spi { stroke: #0066cc; stroke-width: 3; }
      .wire-cs { stroke: #ff6600; stroke-width: 2; stroke-dasharray: 5,5; }
      .wire-i2s { stroke: #cc0000; stroke-width: 2; }
      .wire-sensor { stroke: #666666; stroke-width: 2; }
      .wire-power { stroke: #ff0000; stroke-width: 4; }
      .wire-ground { stroke: #000000; stroke-width: 4; }
      .label { font-family: Arial, sans-serif; font-size: 12px; fill: #333; }
      .title { font-family: Arial, sans-serif; font-size: 18px; font-weight: bold; fill: #000; }
      .pin-label { font-family: Arial, sans-serif; font-size: 10px; fill: #666; }
      .legend-bg { fill: #f9f9f9; stroke: #ccc; stroke-width: 1; }
    </style>
  </defs>
  
  <!-- Title -->
  <text x="450" y="30" class="title" text-anchor="middle">P32 Goblin Full - Professional Wiring Diagram</text>
  
  <!-- ESP32-S3-DevKitC-1 (Moved slightly right for better wire routing) -->
  <rect x="80" y="250" width="140" height="220" class="component" rx="5"/>
  <text x="150" y="270" class="label" text-anchor="middle" font-weight="bold">ESP32-S3</text>
  <text x="150" y="285" class="label" text-anchor="middle">DevKitC-1</text>
  
  <!-- GPIO Pin Labels on ESP32 (positioned for clear wire routing) -->
  <text x="225" y="300" class="pin-label">GPIO 4 (I2S BCLK)</text>
  <text x="225" y="315" class="pin-label">GPIO 5 (I2S WS)</text>
  <text x="225" y="330" class="pin-label">GPIO 6 (I2S DATA)</text>
  <text x="225" y="345" class="pin-label">GPIO 9 (TRIG)</text>
  <text x="225" y="360" class="pin-label">GPIO 10 (ECHO)</text>
  <text x="225" y="375" class="pin-label">GPIO 12 (SPI MISO)</text>
  <text x="225" y="390" class="pin-label">GPIO 13 (SPI MOSI)</text>
  <text x="225" y="405" class="pin-label">GPIO 14 (SPI CLK)</text>
  <text x="225" y="420" class="pin-label">GPIO 15 (CS1)</text>
  <text x="225" y="435" class="pin-label">GPIO 16 (CS2)</text>
  <text x="60" y="300" class="pin-label">VIN (5V)</text>
  <text x="60" y="435" class="pin-label">GND</text>
  
  <!-- Left Eye Display (positioned to avoid wire crossings) -->
  <circle cx="400" cy="120" r="45" class="display"/>
  <text x="400" y="115" class="label" text-anchor="middle" font-weight="bold">Left Eye</text>
  <text x="400" y="130" class="label" text-anchor="middle">GC9A01</text>
  
  <!-- Right Eye Display -->
  <circle cx="600" cy="120" r="45" class="display"/>
  <text x="600" y="115" class="label" text-anchor="middle" font-weight="bold">Right Eye</text>
  <text x="600" y="130" class="label" text-anchor="middle">GC9A01</text>
  
  <!-- Mouth Display (positioned lower to avoid crossings) -->
  <circle cx="500" cy="200" r="45" class="display"/>
  <text x="500" y="195" class="label" text-anchor="middle" font-weight="bold">Mouth</text>
  <text x="500" y="210" class="label" text-anchor="middle">GC9A01</text>
  
  <!-- Audio Amplifier (moved for cleaner routing) -->
  <rect x="650" y="280" width="120" height="70" class="audio" rx="5"/>
  <text x="710" y="305" class="label" text-anchor="middle" font-weight="bold">MAX98357A</text>
  <text x="710" y="320" class="label" text-anchor="middle">Audio Amp</text>
  <text x="710" y="335" class="label" text-anchor="middle">+ Speaker</text>
  
  <!-- HC-SR04 Sensor (positioned for clean routing) -->
  <rect x="650" y="380" width="120" height="70" class="sensor" rx="5"/>
  <text x="710" y="405" class="label" text-anchor="middle" font-weight="bold">HC-SR04</text>
  <text x="710" y="420" class="label" text-anchor="middle">Distance</text>
  <text x="710" y="435" class="label" text-anchor="middle">Sensor</text>
  
  <!-- Power Distribution (routed around components, not through them) -->
  <!-- Main power rail along bottom -->
  <line x1="80" y1="300" x2="50" y2="300" class="wire-power"/>
  <line x1="50" y1="300" x2="50" y2="550" class="wire-power"/>
  <line x1="50" y1="550" x2="800" y2="550" class="wire-power"/>
  
  <!-- Power to displays via top routing -->
  <line x1="800" y1="550" x2="800" y2="50" class="wire-power"/>
  <line x1="800" y1="50" x2="350" y2="50" class="wire-power"/>
  <line x1="400" y1="50" x2="400" y2="75" class="wire-power"/>
  <line x1="500" y1="50" x2="500" y2="155" class="wire-power"/>
  <line x1="600" y1="50" x2="600" y2="75" class="wire-power"/>
  
  <!-- Power to audio/sensor via right side -->
  <line x1="800" y1="300" x2="770" y2="300" class="wire-power"/>
  <line x1="800" y1="400" x2="770" y2="400" class="wire-power"/>
  
  <!-- Ground Distribution (similar routing avoiding components) -->
  <line x1="80" y1="435" x2="50" y2="435" class="wire-ground"/>
  <line x1="50" y1="435" x2="50" y2="570" class="wire-ground"/>
  <line x1="50" y1="570" x2="820" y2="570" class="wire-ground"/>
  
  <!-- Ground to displays via top -->
  <line x1="820" y1="570" x2="820" y2="30" class="wire-ground"/>
  <line x1="820" y1="30" x2="350" y2="30" class="wire-ground"/>
  <line x1="400" y1="30" x2="400" y2="75" class="wire-ground"/>
  <line x1="500" y1="30" x2="500" y2="155" class="wire-ground"/>
  <line x1="600" y1="30" x2="600" y2="75" class="wire-ground"/>
  
  <!-- Ground to audio/sensor -->
  <line x1="820" y1="320" x2="770" y2="320" class="wire-ground"/>
  <line x1="820" y1="420" x2="770" y2="420" class="wire-ground"/>
  
  <!-- SPI Bus Lines (routed cleanly around components) -->
  <!-- MISO (GPIO 12) -->
  <line x1="220" y1="375" x2="280" y2="375" class="wire-spi"/>
  <line x1="280" y1="375" x2="280" y2="90" class="wire-spi"/>
  <line x1="280" y1="90" x2="630" y2="90" class="wire-spi"/>
  <!-- Connect to displays via vertical drops -->
  <line x1="400" y1="90" x2="400" y2="75" class="wire-spi"/>
  <line x1="500" y1="90" x2="500" y2="155" class="wire-spi"/>
  <line x1="600" y1="90" x2="600" y2="75" class="wire-spi"/>
  
  <!-- MOSI (GPIO 13) -->
  <line x1="220" y1="390" x2="300" y2="390" class="wire-spi"/>
  <line x1="300" y1="390" x2="300" y2="110" class="wire-spi"/>
  <line x1="300" y1="110" x2="630" y2="110" class="wire-spi"/>
  <!-- Connect to displays -->
  <line x1="400" y1="110" x2="400" y2="75" class="wire-spi"/>
  <line x1="500" y1="110" x2="500" y2="155" class="wire-spi"/>
  <line x1="600" y1="110" x2="600" y2="75" class="wire-spi"/>
  
  <!-- CLK (GPIO 14) -->
  <line x1="220" y1="405" x2="320" y2="405" class="wire-spi"/>
  <line x1="320" y1="405" x2="320" y2="130" class="wire-spi"/>
  <line x1="320" y1="130" x2="630" y2="130" class="wire-spi"/>
  <!-- Connect to displays -->
  <line x1="400" y1="130" x2="400" y2="75" class="wire-spi"/>
  <line x1="500" y1="130" x2="500" y2="155" class="wire-spi"/>
  <line x1="600" y1="130" x2="600" y2="75" class="wire-spi"/>
  
  <!-- Individual Chip Select Lines (routed to avoid crossings) -->
  <!-- CS1 to Left Eye -->
  <line x1="220" y1="420" x2="340" y2="420" class="wire-cs"/>
  <line x1="340" y1="420" x2="340" y2="150" class="wire-cs"/>
  <line x1="340" y1="150" x2="355" y2="150" class="wire-cs"/>
  
  <!-- CS2 to Right Eye -->
  <line x1="220" y1="435" x2="360" y2="435" class="wire-cs"/>
  <line x1="360" y1="435" x2="360" y2="70" class="wire-cs"/>
  <line x1="360" y1="70" x2="645" y2="70" class="wire-cs"/>
  
  <!-- CS3 to Mouth (from expansion pin) -->
  <line x1="80" y1="350" x2="30" y2="350" class="wire-cs"/>
  <line x1="30" y1="350" x2="30" y2="480" class="wire-cs"/>
  <line x1="30" y1="480" x2="480" y2="480" class="wire-cs"/>
  <line x1="480" y1="480" x2="480" y2="245" class="wire-cs"/>
  
  <!-- I2S Audio Lines (clean routing to audio amp) -->
  <line x1="220" y1="300" x2="620" y2="300" class="wire-i2s"/>
  <line x1="620" y1="300" x2="620" y2="295" class="wire-i2s"/>
  <line x1="620" y1="295" x2="650" y2="295" class="wire-i2s"/>
  
  <line x1="220" y1="315" x2="630" y2="315" class="wire-i2s"/>
  <line x1="630" y1="315" x2="630" y2="310" class="wire-i2s"/>
  <line x1="630" y1="310" x2="650" y2="310" class="wire-i2s"/>
  
  <line x1="220" y1="330" x2="640" y2="330" class="wire-i2s"/>
  <line x1="640" y1="330" x2="640" y2="325" class="wire-i2s"/>
  <line x1="640" y1="325" x2="650" y2="325" class="wire-i2s"/>
  
  <!-- Sensor Lines (clean routing) -->
  <line x1="220" y1="345" x2="610" y2="345" class="wire-sensor"/>
  <line x1="610" y1="345" x2="610" y2="395" class="wire-sensor"/>
  <line x1="610" y1="395" x2="650" y2="395" class="wire-sensor"/>
  
  <line x1="220" y1="360" x2="600" y2="360" class="wire-sensor"/>
  <line x1="600" y1="360" x2="600" y2="410" class="wire-sensor"/>
  <line x1="600" y1="410" x2="650" y2="410" class="wire-sensor"/>
  
  <!-- Legend (moved to upper right corner to avoid wire interference) -->
  <rect x="480" y="480" width="380" height="140" class="legend-bg" rx="5"/>
  <text x="490" y="500" class="label" font-weight="bold">Professional Wire Legend:</text>
  
  <line x1="490" y1="520" x2="520" y2="520" class="wire-power"/>
  <text x="530" y="525" class="pin-label">5V Power Distribution (Red - 4AWG)</text>
  
  <line x1="490" y1="535" x2="520" y2="535" class="wire-ground"/>
  <text x="530" y="540" class="pin-label">Ground Distribution (Black - 4AWG)</text>
  
  <line x1="490" y1="550" x2="520" y2="550" class="wire-spi"/>
  <text x="530" y="555" class="pin-label">SPI Bus: MISO/MOSI/CLK (22AWG)</text>
  
  <line x1="490" y1="565" x2="520" y2="565" class="wire-cs"/>
  <text x="530" y="570" class="pin-label">Chip Select Lines (22AWG)</text>
  
  <line x1="490" y1="580" x2="520" y2="580" class="wire-i2s"/>
  <text x="530" y="585" class="pin-label">I2S Audio: BCLK/WS/DATA (22AWG)</text>
  
  <line x1="490" y1="595" x2="520" y2="595" class="wire-sensor"/>
  <text x="530" y="600" class="pin-label">HC-SR04: TRIG/ECHO (22AWG)</text>
  
  <!-- Technical specifications -->
  <text x="680" y="520" class="pin-label"> Total GPIO: 11 pins used</text>
  <text x="680" y="535" class="pin-label"> Power: 5V @ 3A recommended</text>
  <text x="680" y="550" class="pin-label"> Available GPIO: 30+ for expansion</text>
  <text x="680" y="565" class="pin-label"> Wire management: No crossovers</text>
  <text x="680" y="580" class="pin-label"> Professional routing standards</text>
  <text x="680" y="595" class="pin-label"> Expansion-ready architecture</text>
  
</svg>