{
    "relative_filename": "config/components/hardware/hc_sr04_debug_sensor.json",
    "version": "1.0.0",
    "author": "config/author.json",
    "hardware_type": "DEBUG_SENSOR",
    "name": "hc_sr04_debug_sensor",
    "description": "Debug version of HC-SR04 ultrasonic sensor that simulates distance readings for testing goblin behavioral responses without physical sensor",
    "debug_capabilities": {
        "serial_control": true,
        "timing_simulation": true,
        "gpio_trigger": true,
        "scenario_playback": true,
        "real_time_adjustment": true
    },
    "interaction_methods": {
        "serial_commands": {
            "set_distance": "DIST:cm - Set distance (e.g., DIST:30)",
            "set_scenario": "SCEN:name - Play scenario (e.g., SCEN:approach)",
            "set_timing": "TIME:ms - Set echo delay timing (e.g., TIME:150)",
            "get_status": "STAT - Get current sensor status"
        },
        "gpio_triggers": {
            "manual_trigger_pin": "GPIO for manual distance cycling",
            "scenario_select_pins": "GPIO pins for scenario selection"
        },
        "timing_simulation": {
            "echo_delay_calculation": "time_delay = (distance_cm * 58.2) microseconds",
            "realistic_timing": true,
            "jitter_simulation": "±2% timing variation"
        }
    },
    "predefined_scenarios": {
        "approach": {
            "description": "Object approaching from 100cm to 10cm",
            "distances": [100, 80, 60, 40, 30, 20, 15, 10],
            "timing_ms": [1000, 800, 600, 400, 300, 200, 150, 100]
        },
        "retreat": {
            "description": "Object moving away from 10cm to 100cm", 
            "distances": [10, 15, 20, 30, 40, 60, 80, 100],
            "timing_ms": [100, 150, 200, 300, 400, 600, 800, 1000]
        },
        "stationary": {
            "description": "Object at fixed distance with slight variations",
            "base_distance": 25,
            "variation": "±2cm",
            "timing_ms": 500
        },
        "threat_zones": {
            "description": "Cycle through goblin behavioral zones",
            "distances": [5, 18, 36, 72, 120],
            "zone_names": ["immediate_threat", "personal_space", "interaction_zone", "detection_limit", "out_of_range"],
            "timing_ms": 2000
        }
    },
    "electrical_specs": {
        "supply_voltage": "3.3V_ESP32_COMPATIBLE", 
        "interface": "SERIAL_AND_GPIO",
        "current_consumption": "5mA"
    },
    "sensor_config": {
        "range_min": "1 CM",
        "range_max": "400 CM", 
        "simulated_accuracy": "±1 CM",
        "update_rate": "CONFIGURABLE"
    },
    "software": {
        "init_function": "hc_sr04_debug_sensor_init",
        "act_function": "hc_sr04_debug_sensor_act",
        "components": [
            "serial_debug_driver"
        ]
    },
    "timing": {
        "hitCount": 3,
        "description": "Medium priority for debug responsiveness"
    },
    "use_fields": {
        "current_distance_cm": 30,
        "target_distance_cm": 30,
        "echo_delay_us": 1746,
        "debug_mode": true,
        "active_scenario": "manual"
    }
}