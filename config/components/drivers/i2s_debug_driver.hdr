#ifndef I2S_DEBUG_DRIVER_H
#define I2S_DEBUG_DRIVER_H

#include <esp_err.h>
#include <stdint.h>
#include <stdbool.h>
#include <stddef.h>
#include <string.h>
#include <math.h>
#include "esp_log.h"
#include "esp_timer.h"
#include "freertos/FreeRTOS.h"
#include "freertos/task.h"

#ifdef __cplusplus
extern "C" {
#endif

// Component interface functions
esp_err_t i2s_debug_driver_init(void);
void i2s_debug_driver_act(void);

// API functions - same interface as i2s_generic_driver for drop-in replacement
esp_err_t i2s_debug_driver_read_samples(int32_t *buffer, size_t *bytes_read);
esp_err_t i2s_debug_driver_get_sample_rate(uint32_t *rate);
esp_err_t i2s_debug_driver_is_dma_active(bool *active);

// Debug-specific functions
esp_err_t i2s_debug_driver_set_pattern(const char *pattern);
esp_err_t i2s_debug_driver_set_level(uint8_t level);

// I2S bus dependency (simulated - no actual bus operations)
esp_err_t i2s_bus_get_pins(void* pin_config); // Dummy for compatibility

#ifdef __cplusplus
}
#endif

#endif // I2S_DEBUG_DRIVER_H