#ifndef RA8875_TFT_800X480_HDR
#define RA8875_TFT_800X480_HDR

#include <stdint.h>

// This struct acts as a "type bundle" for the ra8875_tft_800x480 hardware.
// Based on its JSON, it has an 800x480 resolution. Color depth is
// assumed to be 16-bit (RGB565) as is common for these controllers.
struct ra8875_tft_800x480
{
    // Standardized interface members
    static const int WIDTH = 800;
    static const int HEIGHT = 480;

    // 16-bit color depth (5 bits red, 6 green, 5 blue)
    static const int MAX_RED   = 0x1F;
    static const int MAX_GREEN = 0x3F;
    static const int MAX_BLUE  = 0x1F;

    // Standardized nested Pixel type for RGB565
    struct Pixel
    {
        unsigned int red : 5;
        unsigned int green : 6;
        unsigned int blue : 5;

        Pixel() : red(0), green(0), blue(0) {}
        Pixel(const Pixel& other) { *this = other; }
        Pixel& operator=(const Pixel& other)
        {
            red = other.red;
            green = other.green;
            blue = other.blue;
            return *this;
        }
        Pixel operator+(const Pixel& other) const
        {
            Pixel result;
            unsigned int sum_r = red + other.red;
            result.red = (sum_r > MAX_RED) ? MAX_RED : sum_r;
            unsigned int sum_g = green + other.green;
            result.green = (sum_g > MAX_GREEN) ? MAX_GREEN : sum_g;
            unsigned int sum_b = blue + other.blue;
            result.blue = (sum_b > MAX_BLUE) ? MAX_BLUE : sum_b;
            return result;
        }
    };
};

#endif // RA8875_TFT_800X480_HDR
